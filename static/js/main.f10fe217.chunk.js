(this["webpackJsonpfootball-app"]=this["webpackJsonpfootball-app"]||[]).push([[0],{103:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),o=a.n(c),l=a(13),s=(a(64),a(21)),u=a(16),i=Object(u.a)();function m(e){return r.a.createElement("header",{className:"nav-header flex space-between align-center"},r.a.createElement("a",{href:"http://localhost:3000/football-app/"},"Football App."))}var p=a(44),f=a(45),d=a(51),v=a(49),h=a(123);var E={on:function(e,t){var a=function(e){var a=e.detail;t(a)};return window.addEventListener(e,a),function(){window.removeEventListener(e,a)}},emit:function(e,t){window.dispatchEvent(new CustomEvent(e,{detail:t}))}},b=function(e){Object(d.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={msg:null,type:"error"},e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribeFromEventBus=E.on("show-msg",(function(t){e.setState({msg:t.txt,type:t.type}),setTimeout((function(){e.setState({msg:null,type:null})}),3e3)}))}},{key:"componentWillUnmount",value:function(){this.unsubscribeFromEventBus()}},{key:"render",value:function(){var e=this.state,t=e.msg,a=e.type;return t?(console.log(t),r.a.createElement("div",{className:"user-message"},r.a.createElement(h.a,{variant:"filled",severity:a},t))):""}}]),a}(n.Component),g=a(4),y=a.n(g),w=a(11),O=a(46),x="https://api.sportsdata.io/v3/soccer/scores/json/",j=a.n(O).a.create({}),N=function(e,t,a){return T(e,"GET",t,a)};function T(e){return k.apply(this,arguments)}function k(){return(k=Object(w.a)(y.a.mark((function e(t){var a,n,r,c,o=arguments;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>1&&void 0!==o[1]?o[1]:"get",n=o.length>2&&void 0!==o[2]?o[2]:null,r=o.length>3&&void 0!==o[3]?o[3]:null,console.log("".concat(x).concat(t)),e.prev=4,e.next=7,j({url:"".concat(x).concat(t),method:a,data:n,headers:r});case 7:return c=e.sent,e.abrupt("return",c.data);case 11:throw e.prev=11,e.t0=e.catch(4),console.dir(e.t0),console.log(e.t0.response),e.t0;case 16:case"end":return e.stop()}}),e,null,[[4,11]])})))).apply(this,arguments)}var S={saveToStorage:function(e,t){localStorage.setItem(e,JSON.stringify(t))},loadFromStorage:function(e){var t=localStorage.getItem(e);return JSON.parse(t)},removeFromStorage:function(e){localStorage.removeItem(e)}};var A="5c458d8273b14258986fc51cb35ad662",I="TEAMS";function L(){return(L=Object(w.a)(y.a.mark((function e(){var t,a,n,r=arguments;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]?r[0]:"",a=S.loadFromStorage(I)){e.next=7;break}return e.next=5,N("Teams?key=".concat(A));case 5:n=e.sent,S.saveToStorage(I,n);case 7:if(!t){e.next=9;break}return e.abrupt("return",a.filter((function(e){return e.AreaId===t})));case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(w.a)(y.a.mark((function e(t){var a,n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=S.loadFromStorage(I+t)){e.next=9;break}return n=S.loadFromStorage(I),a=n.find((function(e){return e.TeamId===+t})),e.next=6,N("playersByTeam/".concat(t,"?key=").concat(A));case 6:r=e.sent,a.players=r,S.saveToStorage(I+t,a);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(w.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=S.loadFromStorage("LOCATIONS")){e.next=6;break}return e.next=4,N("areas?key=".concat(A));case 4:a=e.sent,S.saveToStorage("LOCATIONS",a);case 6:return a=t?a.filter((function(e){return e.Name.toLowerCase().includes(t.toLowerCase())})):a,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _={getTeams:function(){return L.apply(this,arguments)},getTeamWithPlayers:function(e){return F.apply(this,arguments)},getLocations:function(e){return C.apply(this,arguments)}};var W=a(50);function M(){Object(l.c)((function(e){return e.footballApp.teams}));var e=Object(l.b)(),t=Object(n.useState)({txt:"",options:[],showOptions:!1}),a=Object(W.a)(t,2),c=a[0],o=a[1];function s(t){o({txt:t.Name,showOptions:!1});try{e((a=t.AreaId,function(){var e=Object(w.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"FILTER",filter:a});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}catch(n){E.emit("show-msg",{type:"error",txt:n.message})}var a}function u(){return(u=Object(w.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target,e.prev=1,e.next=4,i(a.value);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),E.emit("show-msg",{type:"error",txt:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}function i(e){return m.apply(this,arguments)}function m(){return(m=Object(w.a)(y.a.mark((function e(t){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.getLocations(t);case 2:a=e.sent,n=0!==a.length&&0!==t.length,o({txt:t,options:a,showOptions:n}),""===t&&s(t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p=c.showOptions,f=c.options,d=c.txt;return r.a.createElement("div",{className:"autocomplete-cont flex column align-center"},r.a.createElement("input",{type:"text",value:d,onChange:function(e){return u.apply(this,arguments)},placeholder:"teams by  location e.g spain"}),r.a.createElement("ul",{className:"autocomplete-results align-start clean-list flex column align-"},p&&f.map((function(e,t){return r.a.createElement("li",{onClick:function(){return s(e)},value:e.AreaId,key:t},e.Name)}))))}var J=a(122),P=a(29);function B(e){var t=e.team;return r.a.createElement("section",{className:"card flex column "},r.a.createElement(P.LazyLoadImage,{src:t.WikipediaLogoUrl,alt:t.Name}),r.a.createElement("h1",null,t.Name),r.a.createElement("h2",null,"Founded: ".concat(t.Founded)),r.a.createElement("p",null,"Address: ".concat(t.Address,", ").concat(t.City,", ").concat(t.AreaName)),r.a.createElement("div",{className:"actions"},r.a.createElement(J.a,{variant:"contained",color:"primary",href:"/football-app/team/".concat(t.TeamId)},"Team Details")))}var U=function(){var e=Object(l.c)((function(e){return e.footballApp.teams})),t=Object(l.c)((function(e){return e.footballApp.filter})),a=Object(l.b)();return Object(n.useEffect)((function(){var e;a((e=t,function(){var t=Object(w.a)(y.a.mark((function t(a){var n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.getTeams(e);case 2:n=t.sent,a({type:"GET_TEAMS",teams:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}),[a,t]),r.a.createElement("main",{className:"teams-cont flex column"},r.a.createElement(M,null),r.a.createElement("div",{className:"teams-list"},e&&e.map((function(e,t){return r.a.createElement(B,{team:e,key:t})}))))},D=a(47),G=a.n(D);function R(){var e=Object(s.d)().id,t=Object(l.c)((function(e){return e.footballApp.currTeam})),a=Object(l.b)();return Object(n.useEffect)((function(){var t;a((t=e,function(){var e=Object(w.a)(y.a.mark((function e(a){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.getTeamWithPlayers(t);case 2:n=e.sent,a({type:"SET_TEAM",team:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[a,e]),t?r.a.createElement("section",{className:"team-details"},r.a.createElement("div",{className:" flex column"},r.a.createElement("header",{className:"flex align-center justify-center"},r.a.createElement(P.LazyLoadImage,{src:t.WikipediaLogoUrl,alt:t.Name,title:t.Name}),r.a.createElement("h1",null,t.Name)),r.a.createElement("div",{className:"flex space-evenly wrap"},r.a.createElement("div",null,r.a.createElement("h2",null,"Founded: ".concat(t.Founded)),r.a.createElement("div",{className:"content flex wrap"},r.a.createElement("p",null,"Website:"),r.a.createElement("a",{href:t.Website},t.Website)),r.a.createElement("div",{className:"content flex wrap"},r.a.createElement("p",null,"Address: ".concat(t.Address,", ").concat(t.City,", ").concat(t.AreaName)))),r.a.createElement("div",null,r.a.createElement("h2",null,"Players:"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Image"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Jersey"))),r.a.createElement("tbody",null,t.players.map((function(e){return r.a.createElement("tr",{key:e.PlayerId},r.a.createElement("td",null,r.a.createElement("img",{src:e.PhotoUrl,alt:e.Name})),r.a.createElement("td",null,e.CommonName),r.a.createElement("td",null,e.Jersey))})))))))):r.a.createElement("div",{className:"flex column align-center"},r.a.createElement(G.a,{secondaryColor:"#2196f3d9",type:"Circles",color:"#2196F3",className:"loader",height:60,width:60}),r.a.createElement("p",null,"Loading..."))}function z(){return r.a.createElement("div",{className:"football-cont"},r.a.createElement(m,null),r.a.createElement(s.b,{history:i},r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/football-app/",component:U}),r.a.createElement(s.a,{path:"/football-app/team/:id",component:R}))),r.a.createElement(b,null))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var X=a(19),V=a(48),$=a(22),q={teams:[],currTeam:null,filterdTeams:[],filter:""};var H=Object(X.c)({footballApp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TEAMS":return Object($.a)(Object($.a)({},e),{},{teams:t.teams});case"SET_TEAM":return Object($.a)(Object($.a)({},e),{},{currTeam:t.team});case"FILTER":return Object($.a)(Object($.a)({},e),{},{filter:t.filter,filterTeams:e.teams.filter((function(e){return e.AreaId===t.filter}))});default:return e}}}),K=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||X.d,Q=Object(X.e)(H,K(Object(X.a)(V.a)));o.a.render(r.a.createElement(l.a,{store:Q},r.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},55:function(e,t,a){e.exports=a(103)},64:function(e,t,a){}},[[55,1,2]]]);
//# sourceMappingURL=main.f10fe217.chunk.js.map